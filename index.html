<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"><title>Simulacro Examen</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f5f5f5; display:flex; height:100vh; }
  .sidebar { width:180px; background:white; border-right:1px solid #ccc; padding:10px; box-sizing:border-box; overflow-y:auto; }
  .sidebar .btn { width:100%; margin-bottom:5px; padding:8px; border:none; border-radius:4px; cursor:pointer; font-size:14px; }
  .sidebar .answered { background:#c8e6c9; } /* verde */
  .sidebar .skipped { background:#ffd54f; }  /* amarillo */
  .sidebar .todo    { background:#e0e0e0; }  /* gris incial */
  .main {-flex:1; padding:20px; overflow-y:auto; }
  .question-box { margin-bottom:20px; background:white; padding:20px; border-radius:6px; border:1px solid #ccc; }
  .feedback { margin-top:10px; padding:10px; border-radius:4px; }
  .feedback.correct { background:#c8e6c9; }
  .feedback.wrong   { background:#ffcdd2; }
  .footer { margin-top:20px; }
  button.nav, button.submit { padding:10px 20px; font-size:14px; margin-right:10px; cursor:pointer; }
  button.submit { background:#0078D4; color:white; border:none; border-radius:4px; }
</style>
</head>
<body>

<div class="sidebar" id="sidebar"></div>

<div class="main">
  <div class="question-box">
    <div id="qid" style="font-weight:bold; margin-bottom:10px;">Pregunta 1</div>
    <div id="qtext">Aquí irá enunciado...</div>
    <form id="qform"></form>
    <div id="feedback"></div>
  </div>
  <div class="footer">
    <button class="nav" id="prev">Anterior</button>
    <button class="nav" id="next">Siguiente</button>
    <button class="submit" id="submit">Enviar</button>
  </div>
</div>

<script>
const questions = Array.from({length:50}, (_, i) => ({
  question: `Enunciado de la pregunta ${i+1}`,
  options: ['opción A','opción B','opción C','opción D'],
  answer: 0 // Siempre la opción A como correcta
}));

let answers = Array(50).fill(null);
let current = 0;
const sb = document.getElementById('sidebar');
const qid = document.getElementById('qid');
const qtext = document.getElementById('qtext');
const qform = document.getElementById('qform');
const feedback = document.getElementById('feedback');

function renderSidebar() {
  sb.innerHTML = '';
  questions.forEach((_, i) => {
    const btn = document.createElement('button');
    btn.textContent = i+1;
    btn.className = 'btn ' + (answers[i]===null?'todo':'answered');
    btn.onclick = () => { current=i; renderQuestion(); };
    sb.appendChild(btn);
  });
}

function renderQuestion() {
  const q = questions[current];
  qid.textContent = `Pregunta ${current+1}`;
  qtext.textContent = q.question;
  qform.innerHTML = '';
  q.options.forEach((opt, i) => {
    const id = `opt${i}`;
    qform.innerHTML += `
      <div>
        <input type="radio" name="opt" id="${id}" value="${i}" ${answers[current]===i?'checked':''}>
        <label for="${id}">${opt}</label>
      </div>`;
  });
  feedback.innerHTML = '';
  renderSidebar();
}

document.getElementById('prev').onclick = () => {
  if (current>0) current--, renderQuestion();
};
document.getElementById('next').onclick = () => {
  if (current<questions.length-1) current++, renderQuestion();
};
document.getElementById('submit').onclick = () => {
  const sel = qform.opt.value;
  if (sel===undefined) return;
  answers[current] = Number(sel);
  const correct = answers[current]===questions[current].answer;
  feedback.innerHTML = `<div class="feedback ${correct?'correct':'wrong'}">
    Su respuesta es ${correct?'correcta':'incorrecta'}.
    La respuesta correcta es: ${q.options[questions[current].answer]}
  </div>`;
  renderSidebar();
};

renderSidebar();
renderQuestion();
</script>

</body>
</html>
